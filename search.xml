<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Django REST framework</title>
    <url>/2020/05/05/Django%20REST%20framework/</url>
    <content><![CDATA[<ul>
<li><p><strong>安装</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pip install djangorestframework</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>在settings.py添加以下代码</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">'rest_framework'</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

</li>
</ul>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>配置</tag>
      </tags>
  </entry>
  <entry>
    <title>Axios配置Vue</title>
    <url>/2020/05/05/Axios%E9%85%8D%E7%BD%AEVue/</url>
    <content><![CDATA[<ul>
<li><p><strong>首先在项目根目录执行以下代码安装</strong></p>
<ul>
<li><pre><code class="javascript">npm install axios
&lt;!--￼<span class="number">0</span>--&gt;</code></pre>
</li>
</ul>
</li>
<li><p><strong>官方文档</strong></p>
<ul>
<li><a href>http://www.axios-js.com/</a></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Axios</category>
      </categories>
      <tags>
        <tag>配置</tag>
      </tags>
  </entry>
  <entry>
    <title>Django</title>
    <url>/2020/05/05/Django/</url>
    <content><![CDATA[<h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目:"></a><strong>创建项目</strong>:</h2><ul>
<li>django-admin startproject 项目名称</li>
</ul>
<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构:"></a><strong>目录结构:</strong></h2><ul>
<li>manage.py是项目管理文件，通过它管理项目。</li>
<li>与项目同名的目录，此处为test1。</li>
<li><em>*init</em>*.py是一个空文件，作用是这个目录test1可以被当作包使用。</li>
<li>settings.py是项目的整体配置文件。</li>
<li>urls.py是项目的URL配置文件。</li>
<li>wsgi.py是项目与WSGI兼容的Web服务器入口，详细内容会在布署中讲到</li>
</ul>
<h2 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用:"></a><strong>创建应用:</strong></h2><a id="more"></a>
<p>python manage.py startapp 应用名称</p>
<h2 id="应用的目录结构"><a href="#应用的目录结构" class="headerlink" title="应用的目录结构:"></a><strong>应用的目录结构:</strong></h2><ul>
<li><em>*init.py</em>*是一个空文件，表示当前目录booktest可以当作一个python包使用。</li>
<li>tests.py文件用于<strong>开发测试用例</strong>，在实际开发中会有专门的测试人员，这个事情不需要我们来做。</li>
<li>models.py文件跟<strong>数据库</strong>操作相关。</li>
<li>views.py文件跟接收浏览器请求，进行处理，返回页面相关。</li>
<li>admin.py文件跟<strong>网站的后台管理</strong>相关。</li>
<li>migrations文件夹保存迁移文件记录。</li>
</ul>
<h2 id="安装应用"><a href="#安装应用" class="headerlink" title="安装应用:"></a><strong>安装应用:</strong></h2><p>在settings.py文件中设置:</p>
<p>INSTALLED_APPS = {‘应用名称’}</p>
<h2 id="开发服务器"><a href="#开发服务器" class="headerlink" title="开发服务器:"></a><strong>开发服务器:</strong></h2><p>python manage.py runserver ip:端口</p>
<p>例：</p>
<p>python manage.py runserver</p>
<p><strong>可以不写IP和端口，默认IP是127.0.0.1，默认端口为8000</strong></p>
<h2 id><a href="#" class="headerlink" title></a></h2><h2 id="ORM-Object-Relation-Mapping-框架"><a href="#ORM-Object-Relation-Mapping-框架" class="headerlink" title="ORM(Object Relation Mapping)框架"></a><strong>ORM(Object Relation Mapping)框架</strong></h2><p>通过类和类对象操作关系数据库中对应的数据表, 根据设计的类自动生成数据库中对应的表格</p>
<h3 id="定义模型类"><a href="#定义模型类" class="headerlink" title="定义模型类:"></a><strong>定义模型类:</strong></h3><p><strong>模型类定义在models.py文件中，继承自models.Model类。不需要定义主键列，在生成时会自动添加，并且值为自动增长。</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookInfo</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    btitle = models.CharField(max_length=<span class="number">20</span>)</span><br><span class="line">    bpub_date = models.DateField()</span><br></pre></td></tr></table></figure>

<h3 id="模型迁移"><a href="#模型迁移" class="headerlink" title="模型迁移:"></a><strong>模型迁移:</strong></h3><p>1)  生成迁移文件: python manage.py makemigrations</p>
<p>2） 根据第一步生成的迁移文件在数据库中创建表: python manage.py migrate</p>
<h3 id="-1"><a href="#-1" class="headerlink" title></a></h3><h3 id="后台管理"><a href="#后台管理" class="headerlink" title="后台管理:"></a><strong>后台管理:</strong></h3><p>使用Django的管理模块，需要按照如下步骤操作：</p>
<p><strong>1)</strong>  <strong>管理界面本地化</strong></p>
<p>打开settings.py文件，找到语言编码、时区的设置项，将内容改为如下：</p>
<p>LANGUAGE_CODE = ‘zh-hans’  #使用中国语言</p>
<p>TIME_ZONE = ‘Asia/Shanghai’  #使用中国上海时间</p>
<p><strong>2)</strong>  <strong>创建管理员</strong></p>
<p><strong>python manage.py createsuperuser</strong></p>
<p><strong>在浏览器中输入:</strong> <a href="http://127.0.0.1:8000/admin/" target="_blank" rel="noopener"><strong>http://127.0.0.1:8000/admin/</strong></a><strong>进行数据库的页面访问</strong></p>
<p><strong>3)</strong>  <strong>注册模型类</strong></p>
<p><strong><em>\</em>要在应用的admin.py文件中写入代码:**</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> booktest.models <span class="keyword">import</span> BookInfo,HeroInfo</span><br><span class="line">admin.site.register(BookInfo)</span><br><span class="line">admin.site.register(HeroInfo)</span><br></pre></td></tr></table></figure>



<p><strong>4)</strong>  <strong>自定义管理页面</strong></p>
<p>在应用的admin.py文件中自定义类继承admin.ModelAdmin类</p>
<ul>
<li><strong>属性list_display表示要显示哪些属性</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookInfoAdmin</span><span class="params">(admin.ModelAdmin)</span>:</span></span><br><span class="line">    list_display = [<span class="string">'id'</span>, <span class="string">'btitle'</span>, <span class="string">'bpub_date'</span>]</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>修改模型类BookInfo的注册代码如下</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">admin.site.register(BookInfo, BookInfoAdmin)</span><br></pre></td></tr></table></figure>





<h1 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h1><h2 id="Django中模型类的方法与数据库操作对应"><a href="#Django中模型类的方法与数据库操作对应" class="headerlink" title="Django中模型类的方法与数据库操作对应:"></a><strong>Django中模型类的方法与数据库操作对应:</strong></h2><p>save(): 生成insert, update语句</p>
<p>delete(): 生成delete语句</p>
<p>all(), get(): 生成select语句</p>
<h2 id="修改数据库"><a href="#修改数据库" class="headerlink" title="修改数据库:"></a><strong>修改数据库:</strong></h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">'default'</span>: &#123;</span><br><span class="line">        <span class="string">'ENGINE'</span>: <span class="string">'django.db.backends.mysql'</span>,</span><br><span class="line">        <span class="string">'NAME'</span>: <span class="string">'test2'</span>, <span class="comment">#数据库名字，</span></span><br><span class="line">        <span class="string">'USER'</span>: <span class="string">'root'</span>, <span class="comment">#数据库登录用户名</span></span><br><span class="line">        <span class="string">'PASSWORD'</span>: <span class="string">'mysql'</span>, <span class="comment">#数据库登录密码</span></span><br><span class="line">        <span class="string">'HOST'</span>: <span class="string">'localhost'</span>, <span class="comment">#数据库所在主机</span></span><br><span class="line">        <span class="string">'PORT'</span>: <span class="string">'3306'</span>, <span class="comment">#数据库端口</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>注意</strong>: MySQL的数据库不会自动生成, 需要手动创建</p>
<p>还需要在项目的<strong>init</strong>.py文件中加上:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line">pymysql.install_as_MySQLdb()</span><br></pre></td></tr></table></figure>

<h2 id="定义属性："><a href="#定义属性：" class="headerlink" title="定义属性："></a>定义属性：</h2><p>django会为表创建自动增长的主键列，每个模型只能有一个主键列，如果使用选项设置某属性为主键列后django不会再创建自动增长的主键列. 默认创建的主键列属性为id，可以使用pk代替，pk全拼为primary key。<strong>注意：pk是主键的别名，若主键名为id2，那么pk是id2的别名</strong>。</p>
<p>定义属性方式: 属性=models.字段类型(选项)</p>
<h2 id="字段类型："><a href="#字段类型：" class="headerlink" title="字段类型："></a>字段类型：</h2><p>使用时需要引入django.db.models包，字段类型如下：</p>
<ul>
<li><p>AutoField：自动增长的IntegerField，通常不用指定，不指定时Django会自动创建属性名为id的自动增长属性。</p>
</li>
<li><p>BooleanField：布尔字段，值为True或False。</p>
</li>
<li><p>NullBooleanField：支持Null、True、False三种值。</p>
</li>
<li><p>CharField</p>
<p>(max_length=字符长度)：字符串。</p>
<ul>
<li>参数max_length表示最大字符个数。</li>
</ul>
</li>
<li><p>TextField：大文本字段，一般<strong>超过4000个</strong>字符时使用。</p>
</li>
<li><p>IntegerField：整数。</p>
</li>
<li><p>DecimalField</p>
<p>(max_digits=None, decimal_places=None)：十进制浮点数。</p>
<ul>
<li>参数max_digits表示总位数。</li>
<li>参数decimal_places表示小数位数。</li>
</ul>
</li>
<li><p>FloatField：浮点数。</p>
</li>
<li><p>DateField</p>
<p>[auto_now=False, auto_now_add=False])：日期。</p>
<ul>
<li>参数auto_now表示每次保存对象时，自动设置该字段为当前时间，用于”<strong>最后一次修改</strong>“的时间戳，它总是使用当前日期，默认为false。</li>
<li>参数auto_now_add表示当对象<strong>第一次被创建时</strong>自动设置当前时间，用于<strong>创建的时间戳</strong>，它总是使用当前日期，默认为false。</li>
<li>参数auto_now_add和auto_now是相互排斥的，组合将会发生错误。</li>
</ul>
</li>
<li><p>TimeField：时间，参数同DateField。</p>
</li>
<li><p>DateTimeField：日期时间，参数同DateField。</p>
</li>
<li><p>FileField：上传文件字段。</p>
</li>
<li><p>ImageField：继承于FileField，对上传的内容进行校验，确保是有效的图片。</p>
</li>
</ul>
<h2 id="字段中的选项："><a href="#字段中的选项：" class="headerlink" title="字段中的选项："></a>字段中的选项：</h2><p>通过选项实现对字段的约束，选项如下：</p>
<ul>
<li>null：如果为True，<strong>表示允许为空</strong>，默认值是False。</li>
<li>blank：如果为True，则该字段允许为空白，默认值是False。</li>
<li><strong>对比：null是数据库范畴的概念，blank是表单验证范畴的</strong>。</li>
<li>db_column：<strong>字段的名称</strong>，如果未指定，则使用属性的名称。</li>
<li>db_index：若值为True, 则在表中会为此字段<strong>创建索引</strong>，默认值是False。</li>
<li>default：默认值。</li>
<li>primary_key：若为True，则该字段会成为模型的主键字段，默认值是False，一般作为AutoField的选项使用。</li>
<li>unique：如果为True, 这个字段在表中必须有<strong>唯一值</strong>，默认值是False。</li>
</ul>
<h2 id="条件运算符："><a href="#条件运算符：" class="headerlink" title="条件运算符："></a>条件运算符：</h2><p>1） 字段__exact：表示等于，也可以直接用等号表示：</p>
<p>list=BookInfo.objects.filter(id__exact=1)</p>
<p>2） 字段__contains：是否包含</p>
<p>说明：如果要包含<strong>%无需转义</strong>，直接写即可。</p>
<p>list = BookInfo.objects.filter(btitle__contains=’传’)</p>
<p>3） startswith、endswith：以指定值开头或结尾</p>
<p>list = BookInfo.objects.filter(btitle__endswith=’部’)</p>
<p>以上运算符都区分大小写，在这些运算符前加上<strong>i</strong>表示不区分大小写，如<strong>iexact、icontains、istartswith、iendswith</strong>.</p>
<p>4） isnull空查询</p>
<p>list = BookInfo.objects.filter(btitle__isnull=False)</p>
<p>5） in：是否包含在范围内</p>
<p>list = BookInfo.objects.filter(id__in=[1, 3, 5])</p>
<p>6） gt、gte、lt、lte：大于、大于等于、小于、小于等于</p>
<p>list = BookInfo.objects.filter(id__gt=3)</p>
<p>7） 不等于的运算符，使用<strong>exclude()</strong>过滤器</p>
<p>list = BookInfo.objects.exclude(id=3)</p>
<p>8） 日期查询</p>
<p>year、month、day、week_day、hour、minute、second：对日期时间类型的属性进行运算</p>
<p>list = BookInfo.objects.filter(bpub_date__year=1980)</p>
<p>例：查询1980年1月1日后发表的图书。</p>
<p>list = BookInfo.objects.filter(bpub_date__gt=date(1980, 1, 1))</p>
<h2 id="F（Field）对象，-用于两个属性之间的比较："><a href="#F（Field）对象，-用于两个属性之间的比较：" class="headerlink" title="F（Field）对象， 用于两个属性之间的比较："></a><strong>F（Field）对象， 用于两个属性之间的比较：</strong></h2><p>from django.db.models import F</p>
<p>语法：F(属性名)</p>
<p>list = BookInfo.objects.filter(bread__gte=F(‘bcomment’)) 阅读量大于评论数的书本</p>
<p>list = BookInfo.objects.filter(bread__gt=F(‘bcomment’) * 2) F对象使用算数</p>
<h2 id="Q对象："><a href="#Q对象：" class="headerlink" title="Q对象："></a><strong>Q对象：</strong></h2><p>多个过滤器逐个调用表示逻辑与关系，同sql语句中where部分的and关键字</p>
<p>list=BookInfo.objects.filter(bread__gt=20,id__lt=3) 或 list=BookInfo.objects<strong>.filter(bread__gt=20).filter(id__lt=3)</strong></p>
<p>Q对象和 | 运算符一起使用表示逻辑or， 语法：Q(属性名__运算符=值)</p>
<p>Q对象可以使用&amp;、|连接，&amp;表示逻辑与，|表示逻辑或</p>
<p>list = BookInfo.objects.filter(<strong>Q(bread__gt=20) | Q(pk__lt=3)</strong>)</p>
<p>Q对象前可以使用~操作符，表示非not</p>
<p>list = BookInfo.objects.filter(<strong>~Q(pk=3)</strong>)</p>
<h2 id="聚合函数："><a href="#聚合函数：" class="headerlink" title="聚合函数："></a>聚合函数：</h2><p>聚合函数包括：<strong>Avg，Count，Max，Min，Sum</strong>，被定义在django.db.models中</p>
<p>list = BookInfo.objects.aggregate(Sum(‘bread’))，aggregate的<strong>返回值</strong>是一个<strong>字典类型</strong>，格式如下：<strong>{‘属性名__聚合类小写:值}</strong>， 如{‘bread__sum’:3}</p>
<p>计数count不使用aggregate， list = BookInfo.objects.count()，返回的数字</p>
<h2 id="查询集"><a href="#查询集" class="headerlink" title="查询集:"></a>查询集:</h2><p>查询集表示从数据库中获取的<strong>对象集合</strong>，在管理器上调用某些过滤器方法会返回查询集，查询集可以含有零个、一个或多个过滤器。过滤器基于所给的参数限制查询的结果，从Sql的角度，<strong>查询集和select语句等价</strong>，<strong>过滤器像where和limit子句</strong>。</p>
<h3 id="返回查询集的过滤器如下："><a href="#返回查询集的过滤器如下：" class="headerlink" title="返回查询集的过滤器如下："></a>返回查询集的过滤器如下：</h3><ul>
<li>all()：返回所有数据。</li>
<li>filter()：返回满足条件的数据。</li>
<li>exclude()：返回<strong>满足条件之外</strong>的数据，相当于sql语句中where部分的not关键字。</li>
<li>order_by()：对结果进行排序。</li>
</ul>
<h3 id="返回单个值的过滤器如下："><a href="#返回单个值的过滤器如下：" class="headerlink" title="返回单个值的过滤器如下："></a>返回单个值的过滤器如下：</h3><ul>
<li>get()：返回单个满足条件的对象<ul>
<li>如果未找到会引发”<strong>模型类.DoesNotExist</strong>“异常。</li>
<li>如果多条被返回，会引发”<strong>模型类.MultipleObjectsReturned</strong>“异常。</li>
</ul>
</li>
<li>count()：返回当前查询结果的<strong>总条数</strong>。</li>
<li>aggregate()：聚合，返回一个字典。</li>
</ul>
<h3 id="判断某一个查询集中是否有数据："><a href="#判断某一个查询集中是否有数据：" class="headerlink" title="判断某一个查询集中是否有数据："></a>判断某一个查询集中是否有数据：</h3><ul>
<li>exists()：判断查询集中是否有数据，如果有则返回True，没有则返回False。</li>
</ul>
<h3 id="两大特性"><a href="#两大特性" class="headerlink" title="两大特性:"></a>两大特性:</h3><ul>
<li>惰性执行：创建查询集不会访问数据库，直到调用数据时，才会访问数据库，调用数据的情况包括迭代、序列化、与if合用。</li>
<li>缓存：使用同一个查询集，第一次使用时会发生数据库的查询，然后把结果缓存下来，再次使用这个查询集时会使用缓存的数据。</li>
</ul>
<h3 id="查询集的缓存"><a href="#查询集的缓存" class="headerlink" title="查询集的缓存:"></a>查询集的缓存:</h3><p>每个查询集都包含一个缓存来最小化对数据库的访问。</p>
<p>在新建的查询集中，缓存为空，首次对查询集求值时，会发生数据库查询，django会将查询的结果存在查询集的缓存中，并返回请求的结果，接下来对查询集求值将重用缓存中的结果。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">list=BookInfo.objects.all()</span><br><span class="line">[book.id <span class="keyword">for</span> book <span class="keyword">in</span> list]</span><br><span class="line">[book.id <span class="keyword">for</span> book <span class="keyword">in</span> list]</span><br></pre></td></tr></table></figure>



<h3 id="限制查询集"><a href="#限制查询集" class="headerlink" title="限制查询集"></a>限制查询集</h3><p>可以对查询集进行<strong>取下标或切片</strong>操作，等同于sql中的<strong>limit和offset</strong>子句。</p>
<p><strong>注意：不支持负数索引。</strong></p>
<p>对查询集进行切片后<strong>返回一个新的查询集</strong>，不会立即执行查询。</p>
<p>如果获取一个对象，直接使用[0]，等同于[0:1].get()，但是如果没有数据，[0]引发IndexError异常，[0:1].get()如果没有数据引发DoesNotExist异常。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">list=BookInfo.objects.all()[<span class="number">0</span>:<span class="number">2</span>]</span><br></pre></td></tr></table></figure>



<h2 id="模型类关系"><a href="#模型类关系" class="headerlink" title="模型类关系"></a>模型类关系</h2><h3 id="关系字段类型"><a href="#关系字段类型" class="headerlink" title="关系字段类型"></a>关系字段类型</h3><p>关系型数据库的关系包括三种类型：</p>
<ul>
<li>ForeignKey：一对多，将字段定义在多的一端中。</li>
<li>ManyToManyField：多对多，将字段定义在任意一端中。</li>
<li>OneToOneField：一对一，将字段定义在任意一端中。</li>
<li>可以维护递归的关联关系，使用’self’指定，详见”自关联”。</li>
</ul>
<h3 id="一对多关系"><a href="#一对多关系" class="headerlink" title="一对多关系"></a>一对多关系</h3><p>参见booktest应用中的BookInfo类和HeroInfo类。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">hbook = models.ForeignKey(<span class="string">"BookInfo"</span>)</span><br></pre></td></tr></table></figure>



<h3 id="多对多关系"><a href="#多对多关系" class="headerlink" title="多对多关系"></a>多对多关系</h3><p>设计一个新闻类和新闻类型类，一个新闻类型下可以用很多条新闻，一条新闻也可能归属于多种新闻类型。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TypeInfo</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">  tname = models.CharField(max_length=<span class="number">20</span>) <span class="comment">#新闻类别</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NewsInfo</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">  ntitle = models.CharField(max_length=<span class="number">60</span>) <span class="comment">#新闻标题</span></span><br><span class="line">  ncontent = models.TextField() <span class="comment">#新闻内容</span></span><br><span class="line">  npub_date = models.DateTimeField(auto_now_add=<span class="literal">True</span>) <span class="comment">#新闻发布时间</span></span><br><span class="line">  ntype = models.ManyToManyField(<span class="string">'TypeInfo'</span>) <span class="comment">#通过ManyToManyField建立TypeInfo类和NewsInfo类之间多对多的关系</span></span><br></pre></td></tr></table></figure>



<h3 id="关联查询"><a href="#关联查询" class="headerlink" title="关联查询"></a>关联查询</h3><h4 id="通过对象执行关联查询"><a href="#通过对象执行关联查询" class="headerlink" title="通过对象执行关联查询"></a>通过对象执行关联查询</h4><p>在定义模型类时，可以指定三种关联关系，<strong>最常用的是一对多关系</strong>:</p>
<p>由<strong>一到多</strong>的访问语法：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 一对应的模型类对象.多对应的模型类名小写_set</span></span><br><span class="line"></span><br><span class="line">b = BookInfo.objects.get(id=<span class="number">1</span>)</span><br><span class="line">b.heroinfo_set.all()</span><br></pre></td></tr></table></figure>



<p>由多到一的访问语法:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 多对应的模型类对象.多对应的模型类中的关系类属性名</span></span><br><span class="line"></span><br><span class="line">h = HeroInfo.objects.get(id=<span class="number">1</span>)</span><br><span class="line">h.hbook  <span class="comment"># 获得一对应的模型类对象</span></span><br></pre></td></tr></table></figure>



<p>访问一对应的模型类关联对象的id语法:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">多对应的模型类对象.关联类属性_id</span><br><span class="line"></span><br><span class="line">h = HeroInfo.objects.get(id=<span class="number">1</span>)</span><br><span class="line">h.book_id</span><br></pre></td></tr></table></figure>





<h3 id="通过模型类执行关联查询"><a href="#通过模型类执行关联查询" class="headerlink" title="通过模型类执行关联查询"></a>通过模型类执行关联查询</h3><h4 id="由多模型类条件查询一模型类数据"><a href="#由多模型类条件查询一模型类数据" class="headerlink" title="由多模型类条件查询一模型类数据:"></a>由多模型类条件查询一模型类数据:</h4><p>语法如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">关联模型类名小写__属性名__条件运算符&#x3D;值</span><br></pre></td></tr></table></figure>

<p>例：查询图书，要求图书中英雄的描述包含’八’。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">list = BookInfo.objects.filter(heroinfo__hcontent__contains=<span class="string">'八'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="由一模型类条件查询多模型类数据"><a href="#由一模型类条件查询多模型类数据" class="headerlink" title="由一模型类条件查询多模型类数据:"></a>由一模型类条件查询多模型类数据:</h4><p>语法如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">一模型类关联属性名__一模型类属性名__条件运算符&#x3D;值</span><br></pre></td></tr></table></figure>

<p>例：查询书名为“天龙八部”的所有英雄。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">list = HeroInfo.objects.filter(hbook__btitle=<span class="string">'天龙八部'</span>)</span><br></pre></td></tr></table></figure>





<h3 id="自关联"><a href="#自关联" class="headerlink" title="自关联:"></a>自关联:</h3><p>对于地区信息、分类信息等数据，表结构非常类似，每个表的数据量十分有限，为了充分利用数据表的大量数据存储功能，可以设计成一张表，内部的关系字段指向本表的主键，这就是自关联的表结构。</p>
<p>说明：关系属性使用self指向本类，要求null和blank允许为空，因为一级数据是没有父级的。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#定义地区模型类，存储省、市、区县信息</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AreaInfo</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    atitle=models.CharField(max_length=<span class="number">30</span>)<span class="comment">#名称</span></span><br><span class="line">    aParent=models.ForeignKey(<span class="string">'self'</span>,null=<span class="literal">True</span>,blank=<span class="literal">True</span>)<span class="comment">#关系</span></span><br></pre></td></tr></table></figure>

<p>视图定义如下:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request)</span>:</span></span><br><span class="line">    currentArea = AreaInfo.objects.get(atitle=<span class="string">'桂林市'</span>, aParent__isnull=<span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">'booktest/index.html'</span>, dict(currentArea=currentArea))</span><br></pre></td></tr></table></figure>

<p> html页面如下:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>index<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>当前地区: &#123;&#123; currentArea.atitle &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>上级地区: &#123;&#123; currentArea.aParent.atitle &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>下级地区: <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        &#123;% for downArea in currentArea.areainfo_set.all %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; downArea.atitle &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="模型类扩展"><a href="#模型类扩展" class="headerlink" title="模型类扩展:"></a>模型类扩展:</h3><h4 id="模型实例方法"><a href="#模型实例方法" class="headerlink" title="模型实例方法"></a>模型实例方法</h4><ul>
<li>str()：在将对象转换成字符串时会被调用。</li>
<li>save()：将模型对象保存到数据表中，ORM框架会转换成对应的insert或update语句。</li>
<li>delete()：将模型对象从数据表中删除，ORM框架会转换成对应的delete语句。</li>
</ul>
<h4 id="模型类的属性"><a href="#模型类的属性" class="headerlink" title="模型类的属性"></a>模型类的属性</h4><p>属性objects：管理器，是models.Manager类型的对象，用于与数据库进行交互。</p>
<blockquote>
<p>当没有为模型类定义管理器时，Django会为每一个模型类生成一个名为objects的管理器，自定义管理器后，Django不再生成默认管理器objects。</p>
</blockquote>
<p>为模型类BookInfo定义管理器books语法如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookInfo</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    ...</span><br><span class="line">    books = models.Manager()</span><br></pre></td></tr></table></figure>



<h4 id="管理器Manager"><a href="#管理器Manager" class="headerlink" title="管理器Manager"></a>管理器Manager</h4><p>管理器是Django的模型进行数据库操作的接口，Django应用的每个模型类都拥有至少一个管理器。Django支持自定义管理器类，继承自models.Manager。</p>
<p>自定义管理器类主要用于两种情况：</p>
<ul>
<li>1.修改原始查询集，重写all()方法</li>
<li>2.向管理器类中添加额外的方法，如向数据库中插入数据。</li>
</ul>
<p>1.修改原始查询集，重写all()方法。</p>
<p>a）打开booktest/models.py文件，定义类BookInfoManager</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#图书管理器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookInfoManager</span><span class="params">(models.Manager)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">all</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#默认查询未删除的图书信息</span></span><br><span class="line">        <span class="comment">#调用父类的成员语法为：super().方法名</span></span><br><span class="line">        <span class="keyword">return</span> super().all().filter(isDelete=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>





<p>b）在模型类BookInfo中定义管理器</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookInfo</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    ...</span><br><span class="line">    books = BookInfoManager()</span><br></pre></td></tr></table></figure>



<p>2.在管理器类中定义创建对象的方法</p>
<p>对模型类对应的数据表进行操作时，推荐将这些操作数据表的方法封装起来，放到模型管理器类中。</p>
<p>打开booktest/models.py文件，定义方法create:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookInfoManager</span><span class="params">(models.Manager)</span>:</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">#创建模型类，接收参数为属性赋值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create_book</span><span class="params">(self, title, pub_date)</span>:</span></span><br><span class="line">        <span class="comment">#创建模型类对象self.model可以获得模型类</span></span><br><span class="line">        book = self.model()</span><br><span class="line">        book.btitle = title</span><br><span class="line">        book.bpub_date = pub_date</span><br><span class="line">        book.bread=<span class="number">0</span></span><br><span class="line">        book.bcommet=<span class="number">0</span></span><br><span class="line">        book.isDelete = <span class="literal">False</span></span><br><span class="line">        <span class="comment"># 将数据插入进数据表</span></span><br><span class="line">        book.save()</span><br><span class="line">        <span class="keyword">return</span> book</span><br></pre></td></tr></table></figure>





<h4 id="元选项"><a href="#元选项" class="headerlink" title="元选项"></a>元选项</h4><p>在模型类中定义类Meta，用于设置元信息，如使用db_table自定义表的名字。</p>
<p>数据表的默认名称为： <code>_, 例如: ``booktest_bookinfo</code></p>
<p>指定BookInfo模型类生成的数据表名为bookinfo:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookInfo</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    <span class="string">"""书籍类"""</span></span><br><span class="line">    btitle = models.CharField(max_length=<span class="number">50</span>)</span><br><span class="line">    bpubDate = models.DateField()</span><br><span class="line">    bread = models.IntegerField(default=<span class="number">0</span>)</span><br><span class="line">    bcomment = models.IntegerField(default=<span class="number">0</span>)</span><br><span class="line">    isDelete = models.BooleanField(default=<span class="literal">False</span>)</span><br><span class="line">    objects = BookManager()</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        db_table = <span class="string">"bookinfo"</span></span><br></pre></td></tr></table></figure>





<h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><p> 视图负责接受Web请求HttpRequest，进行逻辑处理，返回Web响应HttpResponse给请求者。</p>
<h3 id="使用视图的过程"><a href="#使用视图的过程" class="headerlink" title="使用视图的过程"></a>使用视图的过程</h3><p>(1)在”应用/views.py”中定义视图。(2)配置URLconf，将视图函数和url对应起来。</p>
<h3 id="URLconf"><a href="#URLconf" class="headerlink" title="URLconf"></a>URLconf</h3><p>用户通过在浏览器的地址栏中输入网址请求网站，对于Django开发的网站，向哪一个视图进行处理请求，是由url匹配找到的。</p>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>1）在settings.py中通过ROOT_URLCONF指定url配置，默认已经有此配置。ROOT_URLCONF=’项目名称.urls’</p>
<p> 2）打开项目的urls.py可以看到默认配置。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> include, url</span><br><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    url(<span class="string">r'^admin/'</span>, include(admin.site.urls)),</span><br><span class="line">    url(<span class="string">r'^'</span>, include(<span class="string">'booktest.urls'</span>)),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><p>语法一：包含，一般在自定义应用中创建一个urls.py来定义url。</p>
<p>这种语法用于test3/urls.py中，目的是将应用的urls配置到应用内部，数据更清晰并且易于维护。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">url(正则,include(<span class="string">'应用.urls'</span>))</span><br></pre></td></tr></table></figure>

<p>语法二：定义，指定URL和视图函数的对应关系。</p>
<p>在应用内部创建urls.py文件，指定请求地址与视图的对应关系。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">url(正则,<span class="string">'视图函数名称'</span>)</span><br></pre></td></tr></table></figure>

<p>说明1：正则部分推荐使用r，表示字符串不转义，这样在正则表达式中使用\只写一个就可以。 说明2：不能在开始加反斜杠，推荐在结束加反斜杠(index, index/)。</p>
<h4 id="获取值"><a href="#获取值" class="headerlink" title="获取值"></a>获取值</h4><p>请求的url被看做是一个普通的python字符串，进行匹配时不包括域名、get或post参数。 如请求地址如下：</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:8000/delete1/?a=10</span><br></pre></td></tr></table></figure>



<p>可以在匹配过程中从url中捕获参数，每个捕获的参数都作为一个普通的python字符串传递给视图。</p>
<h6 id="方式一：提取位置参数"><a href="#方式一：提取位置参数" class="headerlink" title="方式一：提取位置参数"></a>方式一：提取位置参数</h6><p>直接使用小括号，通过位置参数传递给视图。</p>
<p>1）为了提取参数，修改上面的正则表达式如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">url(<span class="string">r'^delete(\d+)/$'</span>,views.show_arg),</span><br></pre></td></tr></table></figure>

<p>2）修改视图show_arg如下：</p>
<p>注意：参数的名字是任意的如a1、b8，尽量做到见名知意。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_arg</span><span class="params">(request,id)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'show arg %s'</span>%id)</span><br></pre></td></tr></table></figure>



<h6 id="方式二：关键字参数"><a href="#方式二：关键字参数" class="headerlink" title="方式二：关键字参数"></a>方式二：关键字参数</h6><p>在正则表达式部分为组命名。</p>
<p>1）修改正则表达式如下：</p>
<p>其中?P部分表示为这个参数定义的名称为id，可以是其它名称，起名做到见名知意。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">url(<span class="string">r'^delete(?P&lt;id1&gt;\d+)/$'</span>,views.show_arg),</span><br></pre></td></tr></table></figure>

<p>2）修改视图show_arg如下：</p>
<p>注意：视图show_arg此时必须要有一个参数名为id1，否则报错。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_arg</span><span class="params">(request,id1)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'show %s'</span>%id1)</span><br></pre></td></tr></table></figure>

<h3 id="内置错误视图"><a href="#内置错误视图" class="headerlink" title="内置错误视图"></a>内置错误视图</h3><p>Django内置处理HTTP错误的视图，主要错误及视图包括：</p>
<ul>
<li>404错误：page not found视图</li>
<li>500错误：server error视图</li>
</ul>
<p>如果想看到错误视图而不是调试信息，需要修改setting.py文件的DEBUG项。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">DEBUG = <span class="literal">False</span></span><br><span class="line">ALLOWED_HOSTS = [<span class="string">'*'</span>, ]</span><br></pre></td></tr></table></figure>



<h3 id="自定义错误视图"><a href="#自定义错误视图" class="headerlink" title="自定义错误视图"></a>自定义错误视图</h3><p>在templates文件加下新建404.html或者500.html页面即可</p>
<h2 id="HttpReqeust对象"><a href="#HttpReqeust对象" class="headerlink" title="HttpReqeust对象"></a>HttpReqeust对象</h2><p>服务器接收到http协议的请求后，会根据报文创建HttpRequest对象，<strong>这个对象不需要我们创建</strong>，直接使用服务器构造好的对象就可以。<strong>视图的第一个参数必须是HttpRequest对象</strong>，在django.http模块中定义了HttpRequest对象的API。</p>
<h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><p>下面除非特别说明，<strong>属性都是只读的</strong>。</p>
<ul>
<li><p>path：一个字符串，表示请求的页面的完整路径，不包含域名和参数部分。</p>
</li>
<li><p>method：一个字符串，表示请求使用的HTTP方法，常用值包括：</p>
<p>‘GET’、’POST’</p>
<p>。</p>
<ul>
<li>在浏览器中给出地址发出请求采用get方式，如超链接。</li>
<li>在浏览器中点击表单的提交按钮发起请求，如果表单的method设置为post则为post请求。</li>
</ul>
</li>
<li><p>encoding：一个字符串，表示提交的数据的编码方式。</p>
<ul>
<li>如果为None则表示使用浏览器的默认设置，<strong>一般为utf-8</strong>。</li>
<li>这个属性是可写的，可以通过修改它来修改访问表单数据使用的编码，接下来对属性的任何访问将使用新的encoding值。</li>
</ul>
</li>
<li><p>GET：<strong>QueryDict类型对象</strong>，类似于字典，包含<strong>get请求方式的所有参数</strong>。</p>
</li>
<li><p>POST：<strong>QueryDict类型对象</strong>，类似于字典，包含<strong>post请求方式的所有参数</strong>。</p>
</li>
<li><p>FILES：一个类似于字典的对象，包含<strong>所有的上传文件</strong>。</p>
</li>
<li><p>COOKIES：一个标准的Python字典，包含所有的cookie，键和值都为字符串。</p>
</li>
<li><p>session：一个既可读又可写的类似于字典的对象，表示当前的会话，只有当Django 启用会话的支持时才可用，详细内容见”状态保持”。</p>
</li>
</ul>
<h4 id="QueryDict对象"><a href="#QueryDict对象" class="headerlink" title="QueryDict对象"></a>QueryDict对象</h4><ul>
<li>定义在django.http.QueryDict</li>
<li>HttpRequest对象的属性GET、POST都是QueryDict类型的对象</li>
<li>与python字典不同，QueryDict类型的对象用来处理<strong>同一个键带有多个值的情况</strong></li>
<li>方法get()：根据键获取值</li>
<li><strong>如果一个键同时拥有多个值将获取最后一个值</strong></li>
<li>如果键不存在则返回None值，可以设置默认值进行后续处理</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">　　　　dict.get(<span class="string">'键'</span>,默认值), 可以简写为dict[<span class="string">'键'</span>]</span><br></pre></td></tr></table></figure>



<ul>
<li><p>方法<strong>getlist()</strong>：根据键获取值，值以列表返回，可以获取指定<strong>键的所有值</strong></p>
</li>
<li><p>如果键不存在则返回空列表[]，可以设置默认值进行后续处理, </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dict.getlist(<span class="string">'键'</span>,默认值)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="GET属性"><a href="#GET属性" class="headerlink" title="GET属性"></a>GET属性</h4><p>请求格式：在请求地址结尾使用?，之后以”键=值”的格式拼接，多个键值对之间以&amp;连接。</p>
<p>例如: <code>http://www.itcast.cn/?**a=10&amp;b=20&amp;c=python** 其中的请求参数为：``a=10&amp;b=20&amp;c=python</code></p>
<ul>
<li>分析请求参数，键为’a’、’b’、’c’，值为’10’、’20’、’python’。</li>
<li>在Django中可以使用HttpRequest对象的GET属性获得get方方式请求的参数。</li>
<li>GET属性是一个QueryDict类型的对象，键和值都是字符串类型。</li>
<li>键是开发人员在编写代码时确定下来的。</li>
<li>值是根据数据生成的。</li>
</ul>
<h4 id="POST属性"><a href="#POST属性" class="headerlink" title="POST属性"></a>POST属性</h4><p>使用<strong>form表单请求</strong>时，method方式为post则会发起post方式的请求，需要使用HttpRequest对象的POST属性接收参数，POST属性是一个QueryDict类型的对象。</p>
<p>问：表单form如何提交参数呢？</p>
<p>答：表单控件name属性的值作为键，<strong>value属性的值为值</strong>，构成键值对提交。</p>
<ul>
<li>如果表单控件没有name属性则不提交。</li>
<li>对于checkbox控件，name属性的值相同为一组，被选中的项会被提交，出现一键多值的情况。</li>
<li>键是表单控件name属性的值，是由开发人员编写的。</li>
<li>值是用户填写或选择的。</li>
</ul>
<p>1）打开booktest/views.py文件，创建视图show_reqarg</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_reqarg</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">'GET'</span>:</span><br><span class="line">        a = request.GET[<span class="string">'a'</span>]</span><br><span class="line">        b = request.GET[<span class="string">'b'</span>]</span><br><span class="line">        c = request.GET[<span class="string">'c'</span>]</span><br><span class="line">        print(a, b, c)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">'booktest/index.html'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        hobby = request.POST.getlist(<span class="string">"hobby"</span>)</span><br><span class="line">        print(hobby)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">'booktest/index.html'</span>)</span><br></pre></td></tr></table></figure>



<p>2）修改templates/booktest目录下的index.html，添加代码如下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>index<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        3.提交数据的两种方式： get方式:</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/show_reqarg/?a=1&amp;b=2&amp;c=python"</span>&gt;</span>get方式提交数据<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span> post方式:</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"/show_reqarg/"</span>&gt;</span></span><br><span class="line">            &#123;% csrf_token %&#125;</span><br><span class="line">            姓名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"uname"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span> 性别：男</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">value</span>=<span class="string">"男"</span> /&gt;</span> 女</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">value</span>=<span class="string">"女"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span> 爱好： 吃饭</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> <span class="attr">value</span>=<span class="string">"吃饭"</span> /&gt;</span> 睡觉</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> <span class="attr">value</span>=<span class="string">"睡觉"</span> /&gt;</span> 打豆豆</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> <span class="attr">value</span>=<span class="string">"打豆豆"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h1 id="-2"><a href="#-2" class="headerlink" title></a></h1><h2 id="HttpResponse对象"><a href="#HttpResponse对象" class="headerlink" title="HttpResponse对象"></a>HttpResponse对象</h2><p>视图在接收请求并处理后，必须返回HttpResponse对象或子对象。在django.http模块中定义了HttpResponse对象的API。HttpRequest对象由Django创建，<strong>HttpResponse对象由开发人员创建</strong>。</p>
<h3 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h3><ul>
<li>content：表示返回的内容。</li>
<li>charset：表示response采用的编码字符集，默认为utf-8。</li>
<li>status_code：返回的HTTP响应状态码。</li>
<li>content-type：指定返回数据的的MIME类型，默认为’text/html’。</li>
</ul>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ul>
<li><p><em>*init</em>*：创建HttpResponse对象后完成返回内容的初始化。</p>
</li>
<li><p>set_cookie</p>
<p>：设置Cookie信息。</p>
<p><code>set_cookie(key, value=&#39;&#39;, max_age=None, expires=None)</code></p>
</li>
<li><p>cookie是网站以键值对格式存储在浏览器中的一段纯文本信息，用于实现用户跟踪。</p>
<ul>
<li>max_age是一个整数，表示在指定秒数后过期。</li>
<li>expires是一个datetime或timedelta对象，会话将在这个指定的日期/时间过期。</li>
<li>max_age与expires<strong>二选一</strong>。</li>
<li>如果不指定过期时间，在关闭浏览器时cookie会过期。</li>
</ul>
</li>
<li><p>delete_cookie(key)：删除指定的key的Cookie，如果key不存在则什么也不发生。</p>
</li>
<li><p>write：向响应体中写数据。</p>
</li>
</ul>
<h3 id="子类JsonResponse"><a href="#子类JsonResponse" class="headerlink" title="子类JsonResponse"></a>子类JsonResponse</h3><p>在浏览器中使用javascript<strong>发起ajax请求</strong>时，返回<strong>json格式</strong>的数据，此处以jquery的get()方法为例。类JsonResponse继承自HttpResponse对象，被定义在django.http模块中，创建对象时接收字典作为参数。</p>
<p>JsonResponse对象的content-type为’application/json’。</p>
<h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pip install django-cors-headers</span><br><span class="line">INSTALLED_APPS = (</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">'corsheaders'</span>,</span><br><span class="line">    ...</span><br><span class="line">)</span><br><span class="line">MIDDLEWARE = [</span><br><span class="line">    <span class="string">'corsheaders.middleware.CorsMiddleware'</span>,</span><br><span class="line">    ...</span><br><span class="line">]</span><br><span class="line">CORS_ALLOW_CREDENTIALS = <span class="literal">True</span>  <span class="comment"># 允许携带cookie</span></span><br><span class="line">CORS_ORIGIN_ALLOW_ALL = <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h3 id="Axios安装及配置"><a href="#Axios安装及配置" class="headerlink" title="Axios安装及配置"></a>Axios安装及配置</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install axios</span><br></pre></td></tr></table></figure>

<h3 id="静态文件"><a href="#静态文件" class="headerlink" title="静态文件"></a>静态文件</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#静态文件的路径 </span></span><br><span class="line">STATICFILES_DIRS = ( </span><br><span class="line">    os.path.join(BASE_DIR, <span class="string">'static'</span>),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>应用</tag>
      </tags>
  </entry>
  <entry>
    <title>Django注册</title>
    <url>/2020/05/05/Django%E6%B3%A8%E5%86%8C/</url>
    <content><![CDATA[<ul>
<li><strong>models.py</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 用户表</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    <span class="comment"># 用户名</span></span><br><span class="line">    username = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 密码</span></span><br><span class="line">    password = models.CharField(max_length=<span class="number">128</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 生命表明</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        db_table = <span class="string">'user'</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>views.py</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 导包</span></span><br><span class="line"><span class="keyword">from</span> rest_framework.views <span class="keyword">import</span> APIView</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> User</span><br><span class="line"></span><br><span class="line"><span class="comment"># 注册接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Register</span><span class="params">(APIView)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        <span class="comment"># 接收参数</span></span><br><span class="line">        username = request.GET.get(<span class="string">'username'</span>)</span><br><span class="line">        password = request.GET.get(<span class="string">'password'</span>)</span><br><span class="line">        <span class="comment"># 排重</span></span><br><span class="line">        users = User.objects.filter(username=username).first()</span><br><span class="line">        <span class="keyword">if</span> users:</span><br><span class="line">            <span class="keyword">return</span> Response(&#123;</span><br><span class="line">                <span class="string">'code'</span>: <span class="number">403</span>,</span><br><span class="line">                <span class="string">'message'</span>: <span class="string">'用户名已存在'</span></span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 入库</span></span><br><span class="line">            User.objects.create(username=username, password=password_encrypt(password))</span><br><span class="line">            <span class="keyword">return</span> Response(&#123;</span><br><span class="line">                <span class="string">'code'</span>: <span class="number">200</span>,</span><br><span class="line">                <span class="string">'message'</span>: <span class="string">'注册成功'</span></span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>urls.py</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 导包</span></span><br><span class="line"><span class="keyword">from</span> app.views <span class="keyword">import</span> Register</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'register/'</span>, Register.as_view())</span><br><span class="line">]</span><br></pre></td></tr></table></figure>


</li>
</ul>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>注册</tag>
      </tags>
  </entry>
  <entry>
    <title>Django登录</title>
    <url>/2020/05/05/Django%E7%99%BB%E5%BD%95/</url>
    <content><![CDATA[<ul>
<li><p><strong>views.py</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 登录接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login</span><span class="params">(APIView)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        <span class="comment"># 接收参数</span></span><br><span class="line">        username = request.GET.get(<span class="string">'username'</span>, <span class="literal">None</span>)</span><br><span class="line">        password = request.GET.get(<span class="string">'password'</span>, <span class="literal">None</span>)</span><br><span class="line">        <span class="comment"># 查询数据</span></span><br><span class="line">        user = User.objects.filter(username=username, password=password_encrypt(password)).first()</span><br><span class="line">        <span class="keyword">if</span> user:</span><br><span class="line">            <span class="keyword">return</span> Response(&#123;</span><br><span class="line">                <span class="string">'code'</span>: <span class="number">200</span>,</span><br><span class="line">                <span class="string">'message'</span>: <span class="string">'登录成功'</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Response(&#123;</span><br><span class="line">                <span class="string">'code'</span>: <span class="number">403</span>,</span><br><span class="line">                <span class="string">'message'</span>: <span class="string">'您的用户名或密码不正确'</span></span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>urls.py</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 导包</span></span><br><span class="line"><span class="keyword">from</span> app.views <span class="keyword">import</span> Login</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'Login/'</span>, Login.as_view())</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

</li>
</ul>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>登录</tag>
      </tags>
  </entry>
  <entry>
    <title>Django跨域</title>
    <url>/2020/05/05/Django%E8%B7%A8%E5%9F%9F/</url>
    <content><![CDATA[<ul>
<li><p><strong>安装django-core-headers</strong></p>
<ul>
<li><pre><code class="python">pip install django-cors-headers
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- **配置settings.py**</span><br><span class="line"></span><br><span class="line">  - &#96;&#96;&#96;python</span><br><span class="line">     INSTALLED_APPS &#x3D; [</span><br><span class="line">        &#39;corsheaders&#39;,</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure></code></pre>
</li>
<li><pre><code class="python"><span class="comment"># 必须按顺序添加</span>
MIDDLEWARE = [
    <span class="string">'django.middleware.security.SecurityMiddleware'</span>,
    <span class="string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,
    <span class="string">'corsheaders.middleware.CorsMiddleware'</span>,    <span class="comment"># 在这里添加</span>
    <span class="string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,
<span class="string">'django.middleware.common.CommonMiddleware'</span>,
    <span class="comment"># 'django.middleware.csrf.CsrfViewMiddleware',</span>
    <span class="string">'django.contrib.auth.middleware.AuthenticationMiddleware'</span>,
    <span class="string">'django.contrib.messages.middleware.MessageMiddleware'</span>,
    <span class="string">'django.middleware.clickjacking.XFrameOptionsMiddleware'</span>,
]
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  </span><br><span class="line">- &#96;&#96;&#96;python</span><br><span class="line">  # 允许跨域访问的域名</span><br><span class="line">  CORS_ORIGIN_ALLOW_ALL &#x3D; True</span><br><span class="line">  # 允许携带cookie</span><br><span class="line">CORS_ALLOW_CREDENTIALS &#x3D; True</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>跨域</tag>
      </tags>
  </entry>
  <entry>
    <title>Django静态文件配置</title>
    <url>/2020/05/05/Django%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<ul>
<li><p><strong>setting.py</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">STATICFILES_DIRS = [</span><br><span class="line">    os.path.join(BASE_DIR, <span class="string">"static/upload"</span>),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



</li>
</ul>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>配置</tag>
      </tags>
  </entry>
  <entry>
    <title>Django配置MySQL</title>
    <url>/2020/05/05/Django%E9%85%8D%E7%BD%AEMySQL/</url>
    <content><![CDATA[<h1 id="1、在setting-py中配置"><a href="#1、在setting-py中配置" class="headerlink" title="1、在setting.py中配置"></a>1、在setting.py中配置</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">'default'</span>: &#123;</span><br><span class="line">        <span class="string">'ENGINE'</span>: <span class="string">'django.db.backends.mysql'</span>,   <span class="comment"># 数据库引擎</span></span><br><span class="line">        <span class="string">'NAME'</span>: <span class="string">'4a'</span>,    <span class="comment"># 数据库名</span></span><br><span class="line">        <span class="string">'USER'</span>: <span class="string">'root'</span>,  <span class="comment"># 数据库用户名</span></span><br><span class="line">        <span class="string">'PASSWORD'</span>: <span class="string">''</span>,  <span class="comment"># 密码</span></span><br><span class="line">        <span class="string">'HOST'</span>: <span class="string">'localhost'</span>,    <span class="comment"># 主机</span></span><br><span class="line">        <span class="string">'PORT'</span>: <span class="number">3306</span>,    <span class="comment"># 端口</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="2、数据库迁移"><a href="#2、数据库迁移" class="headerlink" title="2、数据库迁移"></a>2、数据库迁移</h1><ul>
<li><p><strong>Python3不支持MySQLdb，可用pymysql代替</strong></p>
<ul>
<li><pre><code class="python"><span class="comment"># 安装pymysql</span>
pip install pymysql
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- **在项目文件下的__init__.py添加如下代码**</span><br><span class="line"></span><br><span class="line">  - &#96;&#96;&#96;python</span><br><span class="line">    import pymysql</span><br><span class="line">    pymysql.install_as_MySQLdb()</span><br></pre></td></tr></table></figure></code></pre>
</li>
</ul>
</li>
<li><p><strong>在终端执行数据库迁移命令</strong></p>
<ul>
<li><pre><code class="python">python manage.py makemigrations
python manage.py migrate</code></pre>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>配置</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXO首次部署Git</title>
    <url>/2020/05/05/HEXO%E9%A6%96%E6%AC%A1%E9%83%A8%E7%BD%B2Git/</url>
    <content><![CDATA[<ul>
<li><p><strong>安装</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure>

</li>
</ul>
]]></content>
      <categories>
        <category>HEXO</category>
      </categories>
      <tags>
        <tag>部署</tag>
      </tags>
  </entry>
  <entry>
    <title>HeyUI配置Vue</title>
    <url>/2020/05/05/HeyUI%E9%85%8D%E7%BD%AEVue/</url>
    <content><![CDATA[<ul>
<li><p><strong>首先在项目根目录执行以下代码</strong></p>
<ul>
<li><pre><code class="javascript">npm install heyui
npm install less
npm install less-loader
&lt;!--￼<span class="number">0</span>--&gt;</code></pre>
</li>
</ul>
</li>
<li><p><strong>详细使用请看官方文档</strong></p>
<ul>
<li><a href>https://www.heyui.top/component/</a></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>HeyUI</category>
      </categories>
      <tags>
        <tag>配置</tag>
      </tags>
  </entry>
  <entry>
    <title>MD5</title>
    <url>/2020/05/05/MD5/</url>
    <content><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><ul>
<li><strong>1991年，Rivest开发出技术上更为趋近成熟的MD5<a href="https://baike.baidu.com/item/算法" target="_blank" rel="noopener">算法</a></strong></li>
<li><strong>它在MD4的基础上增加了”安全带”的概念</strong></li>
<li><strong>虽然MD5比MD4复杂度大一些，但却更为安全</strong></li>
</ul>
<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><ul>
<li><strong>MD5码以512位分组来处理输入的信息，且每一分组又被划分为16个32位子分组，经过了一系列的处理后，算法的输出由四个32位分组组成，将这四个32位分组级联后将生成一个128位<a href="https://baike.baidu.com/item/散列值/10398613" target="_blank" rel="noopener">散列值</a></strong></li>
</ul>
<h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><ul>
<li><strong>用于密码管理</strong></li>
<li><strong>电子签名</strong></li>
<li><strong>垃圾邮件筛选</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># MD5加密</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">password_encrypt</span><span class="params">(pwd)</span>:</span></span><br><span class="line">    <span class="comment"># 实例化md5()方法</span></span><br><span class="line">    md5 = hashlib.md5()</span><br><span class="line">    <span class="comment"># 对字符串的字节类型加密</span></span><br><span class="line">    md5.update(pwd.encode(encoding=<span class="string">'utf-8'</span>))</span><br><span class="line">    <span class="comment"># 加密</span></span><br><span class="line">    result = md5.hexdigest()</span><br><span class="line">    <span class="comment"># 返回密文</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>MD5</category>
      </categories>
      <tags>
        <tag>加密</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL自动启动本地服务</title>
    <url>/2020/05/05/MySQL%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<p>tags: </p>
<ul>
<li>服务自启<br>categories: </li>
<li>MySQL</li>
</ul>
<hr>
<ul>
<li><p><strong>以管理员身份运行cmd，执行以下代码</strong></p>
<ul>
<li><pre><code class="python">mysqld --install</code></pre>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>MySql</category>
      </categories>
      <tags>
        <tag>自启服务</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue注册</title>
    <url>/2020/05/05/Vue%E6%B3%A8%E5%86%8C/</url>
    <content><![CDATA[<ul>
<li><strong>src—&gt;components—&gt;register.vue</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;ue</span><br><span class="line">      &lt;Form&gt;</span><br><span class="line">        &lt;FormItem label=<span class="string">'用户名'</span> icon=<span class="string">'h-icon-user'</span> prop=<span class="string">'username'</span>&gt;</span><br><span class="line">          &lt;input type=<span class="string">"text"</span> v-model=<span class="string">"username"</span>&gt;</span><br><span class="line">        &lt;<span class="regexp">/FormItem&gt;</span></span><br><span class="line"><span class="regexp">        &lt;FormItem label='密码' icon='h-icon-lock' prop='password'&gt;</span></span><br><span class="line"><span class="regexp">          &lt;input type="password" v-model="password"&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>FormItem&gt;</span><br><span class="line">        &lt;FormItem&gt;</span><br><span class="line">          &lt;Button color=<span class="string">'primary'</span> @click=<span class="string">"register"</span>&gt;注册&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">          &lt;Button @click="reset"&gt;重置&lt;/</span>Button&gt;</span><br><span class="line">          &lt;p&gt;</span><br><span class="line">            已有帐号?<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/login"</span>&gt;</span>去登录<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">          &lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>FormItem&gt;</span><br><span class="line">      &lt;<span class="regexp">/Form&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  data() &#123;</span></span><br><span class="line"><span class="regexp">    return &#123;</span></span><br><span class="line"><span class="regexp">      /</span><span class="regexp">/ 定义表单数据</span></span><br><span class="line"><span class="regexp">      username: '',</span></span><br><span class="line"><span class="regexp">      password: ''</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  methods: &#123;</span></span><br><span class="line"><span class="regexp">    register: function() &#123;</span></span><br><span class="line"><span class="regexp">      if (this.username==='' | this.password==='') &#123;</span></span><br><span class="line"><span class="regexp">        this.$Message('请您输入用户名与密码');</span></span><br><span class="line"><span class="regexp">      &#125; else &#123;</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/ 请求后台接口</span></span><br><span class="line"><span class="regexp">        this.axios.get('http:/</span><span class="regexp">/localhost:8000/</span>register/?username=<span class="string">'+this.username+'</span>&amp;password=<span class="string">'+this.password).then((response) =&gt; &#123;</span></span><br><span class="line"><span class="string">        if (response.data.code==200) &#123;</span></span><br><span class="line"><span class="string">          this.$Message(response.data.message);</span></span><br><span class="line"><span class="string">        &#125; else &#123;</span></span><br><span class="line"><span class="string">          this.$Message(response.data.message);          </span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    // 重置</span></span><br><span class="line"><span class="string">    reset: function() &#123;</span></span><br><span class="line"><span class="string">      this.username = '</span><span class="string">';</span></span><br><span class="line"><span class="string">      this.password = '</span><span class="string">';</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;style&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;/style&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>src—&gt;router—&gt;index.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> register <span class="keyword">from</span> <span class="string">'../components/register'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/register'</span>,</span><br><span class="line">      name: <span class="string">'register'</span>,</span><br><span class="line">      component: register</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>注册</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue登录</title>
    <url>/2020/05/05/Vue%E7%99%BB%E5%BD%95/</url>
    <content><![CDATA[<ul>
<li><strong>src—&gt;components—&gt;login.vue</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;Form&gt;</span><br><span class="line">          &lt;FormItem label=<span class="string">'用户名'</span> icon=<span class="string">'h-icon-user'</span> prop=<span class="string">'username'</span>&gt;</span><br><span class="line">              &lt;input type=<span class="string">"text"</span> v-model=<span class="string">"username"</span>&gt;</span><br><span class="line">          &lt;<span class="regexp">/FormItem&gt;</span></span><br><span class="line"><span class="regexp">          &lt;FormItem label='密码' icon='h-icon-lock' prop='password'&gt;</span></span><br><span class="line"><span class="regexp">              &lt;input type="password" v-model="password"&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>FormItem&gt;</span><br><span class="line">          &lt;FormItem&gt;</span><br><span class="line">              &lt;Button color=<span class="string">'primary'</span> @click=<span class="string">"login"</span>&gt;登录&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">              &lt;Button @click="reset"&gt;重置&lt;/</span>Button&gt;</span><br><span class="line">              &lt;p <span class="class"><span class="keyword">class</span></span>=<span class="string">"a"</span>&gt;没有账号？&lt;a href=<span class="string">"/register"</span>&gt;去注册&lt;<span class="regexp">/a&gt;&lt;/</span>p&gt;</span><br><span class="line">          &lt;<span class="regexp">/FormItem&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>Form&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// 定义表单数据</span></span><br><span class="line">            username: <span class="string">''</span>,</span><br><span class="line">            password: <span class="string">''</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        login: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// 请求后台接口</span></span><br><span class="line">            <span class="keyword">this</span>.axios.get(<span class="string">'http://localhost:8000/login/?username='</span>+<span class="keyword">this</span>.username+<span class="string">'&amp;password='</span>+<span class="keyword">this</span>.password).then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (response.data.code===<span class="number">200</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>.$Message(response.data.message);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>.$Message(response.data.message);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 重置</span></span><br><span class="line">        reset: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.username = <span class="string">''</span>;</span><br><span class="line">            <span class="keyword">this</span>.password = <span class="string">''</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;style&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>src—&gt;router—&gt;index.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> login <span class="keyword">from</span> <span class="string">'../components/login'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/login'</span>,</span><br><span class="line">      name: <span class="string">'login'</span>,</span><br><span class="line">      component: login</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>登录</tag>
      </tags>
  </entry>
  <entry>
    <title>pip设置国内源</title>
    <url>/2020/05/05/pip%E8%AE%BE%E7%BD%AE%E5%9B%BD%E5%86%85%E6%BA%90/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url&#x3D;http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;pypi&#x2F;simple&#x2F;</span><br><span class="line">[install]</span><br><span class="line">trusted-host&#x3D;mirrors.aliyun.com</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>PIP</category>
      </categories>
      <tags>
        <tag>设置源</tag>
      </tags>
  </entry>
  <entry>
    <title>npm设置淘宝源</title>
    <url>/2020/05/05/npm%E8%AE%BE%E7%BD%AE%E6%B7%98%E5%AE%9D%E6%BA%90/</url>
    <content><![CDATA[<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https:<span class="comment">//registry.npm.taobao.org</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>NPM</category>
      </categories>
      <tags>
        <tag>设置源</tag>
      </tags>
  </entry>
  <entry>
    <title>个人简历</title>
    <url>/2020/05/05/%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>李泳辉</p>
<p>132-6364-7830 | <a href="mailto:lihuidag@gmail.com">lihuidag@gmail.com</a></p>
<p>lh608.vip</p>
<p>随时入岗 | 求职意向：python web开发 | 期望薪资：面议</p>
<p>教育经历</p>
<p>哈尔滨商业大学</p>
<p>2013年9月 - 2017年7月</p>
<p>计算机与技术 本科</p>
<p>哈尔滨</p>
<p>个人总结</p>
<ul>
<li>3年python开发经验</li>
<li>熟练计算机IT软硬件技术，对IT周边科技发展有浓厚兴趣;团队意识及适应能力强,抗压能力好,喜欢面对挑战迎难而上;工作绝对勤奋，认真负责，希望能得到贵公司的一个宝贵面试机会。</li>
</ul>
<p>专业技能</p>
<ul>
<li>Python: 熟练掌握 Python 常见特性，能够恰当的使用元编程来优雅的解决问题</li>
<li>熟悉Mysql /MongoDb /Redis数据库</li>
<li>熟悉Django /Flask</li>
<li>熟悉html、css、javascript、vue等Web前端技术</li>
<li>熟练使用git、GitHub、gitee等代码管理工具。</li>
</ul>
<p>开发经验</p>
<p>51talk</p>
<p>2018年10月 - 至今</p>
<p>python高级开发工程师</p>
<p>文思海辉技术有限公司</p>
<p>2017年8月 - 2018年9月</p>
<p>python初级开发工程师</p>
<ul>
<li><p><strong>项目介绍：智能数据分析平台</strong></p>
<p>开发一个软件质量评测项目，项目属于web项目，主要负责后台方法编写、部署，前端略有参与，项目分多个阶段，着重介绍2个阶段：</p>
</li>
</ul>
<p>  第一阶段：（着重后端方法编写）</p>
<p>  缺陷自动分类功能实现，根据缺陷(bug)的标题、描述等相关特征信息，对缺陷严重程度等级(1-6)级进行分类，用到相关技术：</p>
<p>  1、常用的建模/数据分析方法编写，处理缺失值、数据离散化、归一化、one-hot编码、字符串索引、降维、算法模型构建/模型保存与加载等常用功能编写通用方法，直接调用 </p>
<p>  2、结巴分词对描述信息文本分词，并去除停用词、构造自定义词典处理数据</p>
<p>  3、 运用pandas对数据进行处理，缺失值、异常值、重复数据处理、特征向量化等 </p>
<p>  第二阶段：（前后端配合）</p>
<p>  该阶段是本项目重点阶段，采用django搭建后台，前端通过拖拽数据处理功能的操作，将数据/数据处理流程/建模方法等数据传到后端，后端根据传过来的参数，结合第一阶段编写好的方法对数据进行处理建模，并将结果返回前端进行相关图表展示，前端框架涉及jsplumb（流程图）、datatable.js（表格）、echarts.js（图表）、d3.js（架构图），后端相关技术主要有django框架、Pandas、numpy、sklearn常见数据处理与分析库</p>
<p>  第三阶段：（仿真测试缺陷预测） </p>
<p>  根据公司内部测试数据，研究性预测每个项目仿真测试缺陷数，数据特征比较多，挑选了一些影响关系大的因子，开发人员经验、开发时间、项目类别等，并对离散型特征通过one-hot和分箱转化成数值参与模型运算，在建模过程中，考虑到不同特征下预测结果不一样，编写随机算法选择特征与手动选择特征进行结果比较，也通过在相同特征下选择不同的算法模型进行预测，得出结果进行比较，这样充分考虑各种情况，得出一份更具有参考性的结果</p>
<p>  职责：</p>
<p>  1、独立配服务器环境，Django部署项目，实现访问</p>
<p>  2、前后端代码编写（后端数据处理、数据交互、前端页面）</p>
<p>  3、数据爬取，缺陷数据有限，部分数据来源于网上爬取，用于建模测试</p>
<p>  4、数据库用到MySQL</p>
<p>  5、预测软件可靠性，运用G-O、G-M模型等，建立软件缺陷与时间关系模型方程</p>
<p>  6、研究NLP中一些相似度算法</p>
<p>其他</p>
<ul>
<li><p><strong>语言能力：</strong> 英语（TOFEL：105）</p>
</li>
<li><p><strong>兴趣爱好：</strong> 人工智能、机器人研究</p>
</li>
</ul>
]]></content>
  </entry>
</search>
